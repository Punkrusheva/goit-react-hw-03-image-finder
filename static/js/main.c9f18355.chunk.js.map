{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/App.js","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","overlay","onClick","content","children","Component","Searchbar","value","onChange","allyProps","searchbar","searchForm","type","button","label","name","autoComplete","autoFocus","input","placeholder","defaultProps","ImageGallery","imageGallery","ImageGalleryItem","photos","map","largeImageURL","webformatURL","tags","id","item","image","src","data-source","alt","Button","Load","loader","color","height","width","timeout","App","state","searchQuery","page","showModal","loading","key","url","toggleModal","setState","largeImage","onButtonClick","preventDefault","changeSearch","console","log","getSearchedResult","normalizedSearchQuery","toLowerCase","trim","filter","photo","includes","setTimeout","axios","get","then","response","data","hits","finally","prevProps","prevState","scrollTo","top","documentElement","scrollHeight","behavior","searchedResult","aria-label","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c9f18355.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__4IY3T\",\"content\":\"Modal_content__c3Np8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3osXE\",\"image\":\"ImageGalleryItem_image__3BCEo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1nR06\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__pfvfQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1pGRW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__CtEfK\",\"searchForm\":\"Searchbar_searchForm__2mrG_\",\"button\":\"Searchbar_button__3EobS\",\"buttonLabel\":\"Searchbar_buttonLabel__6imVt\",\"input\":\"Searchbar_input__3kspo\"};","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n      return createPortal(\r\n        <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n          <div className={styles.content}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n   );\r\n  }\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ value, onChange, children, ...allyProps }) => (\r\n  <>\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.searchForm} >\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.label}  {...allyProps}>{children}</span>\r\n          </button>\r\n\r\n          <input\r\n            type='text'\r\n            name='searchbar'\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            onChange={onChange}\r\n            value={value}\r\n            className={styles.input}\r\n            placeholder='Search images and photos'\r\n          />\r\n        </form>\r\n      </header>\r\n  </>\r\n);\r\n\r\nSearchbar.defaultProps = {\r\n  value: '',\r\n  children: 'Search',\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n    'aria-label': PropTypes.string.isRequired,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Searchbar;","\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ children }) {\r\n    return (\r\n      <ul className={styles.imageGallery}>\r\n        {children}\r\n      </ul>\r\n    )\r\n}\r\n        \r\nImageGallery.defaultProps = {\r\n  children: \"\",\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ photos, onClick }) {\r\n    return (\r\n        photos.map(({ largeImageURL, webformatURL, tags, id }) => (\r\n     <li className={styles.item} key={id} onClick={() => onClick(largeImageURL)}>\r\n            <img className={styles.image} src={webformatURL} data-source={largeImageURL} alt={tags} />\r\n    </li>\r\n  )))\r\n}\r\n\r\nImageGalleryItem.defaultProps = {\r\n  largeImageURL: '',\r\n  webformatURL: '',\r\n  tags: '',\r\n  id: ''\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  id: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ children, onClick, ...allyProps }) => (\r\n    <button type=\"button\" className={styles.button} onClick={onClick} {...allyProps}>\r\n    Load more{children}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  'aria-label': PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from './Loader.module.css';\r\n\r\nfunction Load() {\r\n    return (\r\n        <Loader className={styles.loader}\r\n            type=\"ThreeDots\"\r\n            color=\"#3f51b5\"\r\n            height={45}\r\n            width={45}\r\n            timeout={6000}\r\n        />)\r\n};\r\n\r\nexport default Load;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Modal from './Modal/Modal'\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport Button from './Button/Button';\nimport Load from './Loader/Loader';\nimport '../stylesheets/normalize.css';\nimport '../stylesheets/main.css';\nimport { ImSearch } from 'react-icons/im';\n\nclass App extends Component {\n  state = {\n    photos: [],\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    loading: false,\n    key: '19150755-18ebc4fb910ab3d1add5e1d5a',\n    url: 'https://pixabay.com/api/',\n  };\n  \n  componentDidMount() {\n    this.setState({ loading: true });\n    setTimeout(()=>{\n    axios\n      .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(response => this.setState({ photos: response.data.hits }))\n      .finally(() => this.setState({ loading: false }));\n    }, 1000);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextPage = this.state.page;\n    const prevPage = prevState.page;\n\n    if (nextPage !== prevPage) {\n      this.setState({ loading: true });\n      setTimeout(()=>{\n       axios\n        .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(response => this.setState({ photos: [...prevState.photos, ...response.data.hits] }))\n        .then(window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        }))\n         .finally(() => this.setState({ loading: false }));\n      }, 1000);\n    }\n  }\n  \n  toggleModal = (largeImageURL) => {\n    this.setState(({ showModal }) => ({showModal: !showModal}));\n    this.setState({ largeImage: largeImageURL });\n  };\n\n  onButtonClick = e => {\n    e.preventDefault();\n    this.setState(\n      {page: this.state.page + 1 } \n    );\n  }\n\n  changeSearch = e => {\n    const { searchQuery } = this.state;\n    this.setState({  searchQuery : e.currentTarget.value });\n    console.log(searchQuery);\n  };\n\n  getSearchedResult = () => {\n    const { photos, searchQuery } = this.state;\n    const normalizedSearchQuery = searchQuery.toLowerCase().trim();\n    return photos.filter(photo =>\n      photo.tags.toLowerCase().includes(normalizedSearchQuery)\n    );\n  }\n  render() {\n    const { searchQuery, photos, showModal, largeImage, tags } = this.state;\n    const searchedResult = this.getSearchedResult();\n    \n    return (\n      <>\n        <Searchbar value={searchQuery}\n          aria-label='Search'\n          onChange={this.changeSearch}>\n          <ImSearch />\n        </Searchbar>\n        \n        {photos.length > 0 ?\n          <ImageGallery>\n            <ImageGalleryItem\n              photos={searchedResult}\n              onClick={this.toggleModal}\n            />\n          </ImageGallery> : null}\n        \n        {showModal &&\n          <Modal onClose={this.toggleModal}>\n          <img src={largeImage} alt={tags}/>\n          </Modal>}\n\n        {this.state.loading &&\n          <Load \n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={45}\n          width={45}\n          timeout={6000}\n          />}\n        \n        {searchedResult.length >= 11 ?\n          <Button\n            aria-label='Load more'\n            onClick={this.onButtonClick}>\n          </Button> : null}\n      </>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}