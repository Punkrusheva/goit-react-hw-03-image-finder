{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","overlay","onClick","content","children","Component","Searchbar","state","searchQuery","handleSearchChange","setState","value","trim","handleSubmit","preventDefault","onSubmit","toast","error","searchbar","searchForm","type","button","label","aria-label","name","autoComplete","autoFocus","onChange","input","placeholder","ImageGallery","imageGallery","defaultProps","ImageGalleryItem","photos","map","largeImageURL","webformatURL","tags","id","item","image","src","data-source","alt","Button","allyProps","Load","loader","color","height","width","timeout","App","page","showModal","loading","key","url","toggleModal","largeImage","onButtonClick","handleSearchSubmit","normalizedSearchQuery","toLowerCase","setTimeout","axios","get","then","response","data","hits","catch","finally","prevProps","prevState","nextSearch","prevSearch","nextPage","prevPage","scrollTo","top","documentElement","scrollHeight","behavior","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.db1077bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__4IY3T\",\"content\":\"Modal_content__c3Np8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3osXE\",\"image\":\"ImageGalleryItem_image__3BCEo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1nR06\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__pfvfQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1pGRW\"};","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n      return createPortal(\r\n        <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n          <div className={styles.content}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n   );\r\n  }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { toast } from 'react-toastify';\r\n import 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        searchQuery: '',\r\n    };\r\n   \r\n    handleSearchChange = event => {\r\n        this.setState({ searchQuery: event.currentTarget.value.trim() });\r\n    };\r\n        \r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if (this.state.searchQuery === '') {\r\n            toast.error('Empty request');\r\n            return;\r\n        }\r\n        this.props.onSubmit(this.state.searchQuery);\r\n        this.setState({ searchQuery: '' });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={styles.searchbar}>\r\n                <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={styles.button}>\r\n                        <span className={styles.label} aria-label='Search'><ImSearch />\r\n                         </span>\r\n                    </button>\r\n\r\n                    <input\r\n                        type='text'\r\n                        name='searchbar'\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        onChange={this.handleSearchChange}\r\n                        value={this.state.searchQuery}\r\n                        className={styles.input}\r\n                        placeholder='Search images and photos'\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ children }) {\r\n    return (\r\n      <ul className={styles.imageGallery}>\r\n        {children}\r\n      </ul>\r\n    )\r\n}\r\n        \r\nImageGallery.defaultProps = {\r\n  children: \"\",\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ photos, onClick }) {\r\n    return (\r\n        photos.map(({ largeImageURL, webformatURL, tags, id }) => (\r\n     <li className={styles.item} key={id} onClick={() => onClick(largeImageURL)}>\r\n            <img className={styles.image} src={webformatURL} data-source={largeImageURL} alt={tags} />\r\n    </li>\r\n  )))\r\n}\r\n\r\nImageGalleryItem.defaultProps = {\r\n  largeImageURL: '',\r\n  webformatURL: '',\r\n  tags: '',\r\n  id: ''\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  id: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ children, onClick, ...allyProps }) => (\r\n    <button type=\"button\" className={styles.button} onClick={onClick} {...allyProps}>\r\n    Load more{children}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  'aria-label': PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from './Loader.module.css';\r\n\r\nfunction Load() {\r\n    return (\r\n        <Loader className={styles.loader}\r\n            type=\"ThreeDots\"\r\n            color=\"#3f51b5\"\r\n            height={45}\r\n            width={45}\r\n            timeout={6000}\r\n        />)\r\n};\r\n\r\nexport default Load;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Modal from './Modal/Modal'\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport Button from './Button/Button';\nimport Load from './Loader/Loader';\nimport '../stylesheets/normalize.css';\nimport '../stylesheets/main.css';\nimport { ToastContainer } from \"react-toastify\";\n\nclass App extends Component {\n  state = {\n    photos: [],\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    loading: false,\n    key: '19150755-18ebc4fb910ab3d1add5e1d5a',\n    url: 'https://pixabay.com/api/',\n    error: null,\n  };\n  \n  componentDidMount() {\n    this.setState({ loading: true });\n    setTimeout(()=>{\n    axios\n      .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(response => this.setState({ photos: response.data.hits }))\n      .catch(error=> this.setState({error}))\n      .finally(() => this.setState({ loading: false }));\n    }, 1000);\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextSearch = this.state.searchQuery;\n    const prevSearch = prevState.searchQuery;\n    const nextPage = this.state.page;\n    const prevPage = prevState.page;\n\n    if (nextSearch !== prevSearch) {\n      this.setState({ loading: true });\n      this.setState({ photos: [] });\n      setTimeout(()=>{\n        axios\n          .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n          .then(response => this.setState({ photos: response.data.hits }\n          ))\n          .finally(() => this.setState({ loading: false }));\n      }, 1000);\n    }\n    if (nextPage !== prevPage) {\n      this.setState({ loading: true });\n      setTimeout(()=>{\n        axios\n          .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n          .then(response => this.setState({ photos: [...prevState.photos, ...response.data.hits] }))\n          .finally(() => { this.setState({ loading: false }); window.scrollTo({ top: document.documentElement.scrollHeight, behavior: 'smooth', }) });\n      }, 1000);}\n  };\n\n  toggleModal = (largeImageURL) => {\n    this.setState(({ showModal }) => ({showModal: !showModal}));\n    this.setState({ largeImage: largeImageURL });\n  };\n\n  onButtonClick = e => {\n    e.preventDefault();\n    this.setState(\n      { page: this.state.page + 1 }\n    );\n  };\n\n  handleSearchSubmit = searchQuery => {\n    const normalizedSearchQuery = searchQuery.toLowerCase().trim();\n    this.setState({ searchQuery: normalizedSearchQuery });\n   };\n \n  render() {\n    const { photos, showModal, largeImage, tags, error } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSearchSubmit}/> \n        {error && <h1>Error, try again later</h1>}\n        {photos.length > 0 ?\n          <ImageGallery>\n            <ImageGalleryItem\n              photos={photos}\n              onClick={this.toggleModal}\n            />\n          </ImageGallery> : null}\n        \n        {showModal &&\n          <Modal onClose={this.toggleModal}>\n          <img src={largeImage} alt={tags}/>\n          </Modal>}\n\n        {this.state.loading &&\n          <Load \n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={45}\n          width={45}\n          timeout={6000}\n          />}\n      \n        {photos.length >= 11 ?\n          <Button\n            aria-label='Load more'\n            onClick={this.onButtonClick}>\n          </Button> : null}\n\n        <ToastContainer autoClose={2000}/>\n      </>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__CtEfK\",\"searchForm\":\"Searchbar_searchForm__2mrG_\",\"button\":\"Searchbar_button__3EobS\",\"buttonLabel\":\"Searchbar_buttonLabel__6imVt\",\"input\":\"Searchbar_input__3kspo\"};"],"sourceRoot":""}