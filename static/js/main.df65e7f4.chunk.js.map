{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","overlay","onClick","content","children","Component","Searchbar","state","searchQuery","handleSearchChange","setState","value","trim","handleSubmit","preventDefault","onSubmit","toast","error","searchbar","searchForm","type","button","label","aria-label","name","autoComplete","autoFocus","onChange","input","placeholder","ImageGalleryItem","photo","item","image","src","webformatURL","data-source","largeImageURL","alt","tags","defaultProps","id","ImageGallery","photos","imageGallery","map","Button","allyProps","Load","loader","color","height","width","timeout","App","page","showModal","loading","key","url","status","toggleModal","largeImage","onButtonClick","handleSearchSubmit","normalizedSearchQuery","toLowerCase","axios","get","then","response","data","hits","catch","finally","prevProps","prevState","nextSearch","prevSearch","nextPage","prevPage","scrollTo","top","documentElement","scrollHeight","behavior","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.df65e7f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__4IY3T\",\"content\":\"Modal_content__c3Np8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3osXE\",\"image\":\"ImageGalleryItem_image__3BCEo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1nR06\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__pfvfQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1pGRW\"};","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n      return createPortal(\r\n        <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n          <div className={styles.content}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n   );\r\n  }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { toast } from 'react-toastify';\r\n import 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        searchQuery: '',\r\n    };\r\n   \r\n    handleSearchChange = event => {\r\n        this.setState({ searchQuery: event.currentTarget.value.trim() });\r\n    };\r\n        \r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if (this.state.searchQuery === '') {\r\n            toast.error('Empty request');\r\n            return;\r\n        }\r\n        this.props.onSubmit(this.state.searchQuery);\r\n        this.setState({ searchQuery: '' });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={styles.searchbar}>\r\n                <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={styles.button}>\r\n                        <span className={styles.label} aria-label='Search'><ImSearch />\r\n                         </span>\r\n                    </button>\r\n\r\n                    <input\r\n                        type='text'\r\n                        name='searchbar'\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        onChange={this.handleSearchChange}\r\n                        value={this.state.searchQuery}\r\n                        className={styles.input}\r\n                        placeholder='Search images and photos'\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ photo, onClick }) {\r\n    return (\r\n    <>\r\n      <li className={styles.item}\r\n        onClick={onClick}>\r\n        <img className={styles.image}\r\n          src={photo.webformatURL}\r\n          data-source={photo.largeImageURL}\r\n          alt={photo.tags}/>\r\n        </li>\r\n        </>\r\n  )\r\n}\r\n\r\nImageGalleryItem.defaultProps = {\r\n  largeImageURL: '',\r\n  webformatURL: '',\r\n  tags: '',\r\n  id: ''\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  id: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ photos, onClick } ) {\r\n    return (\r\n      <ul className={styles.imageGallery}>\r\n        {photos.map(( photo ) => (<ImageGalleryItem key={photo.id} onClick={() => onClick(photo.largeImageURL)}\r\n          photo={photo}\r\n          ></ImageGalleryItem>))}\r\n      </ul> \r\n    )\r\n}\r\n        \r\nImageGallery.defaultProps = {\r\n  photos: [],\r\n  children: \"\",\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  photos: PropTypes.array,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ children, onClick, ...allyProps }) => (\r\n    <button type=\"button\" className={styles.button} onClick={onClick} {...allyProps}>\r\n    Load more{children}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  'aria-label': PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from './Loader.module.css';\r\n\r\nfunction Load() {\r\n    return (\r\n        <Loader className={styles.loader}\r\n            type=\"ThreeDots\"\r\n            color=\"#3f51b5\"\r\n            height={45}\r\n            width={45}\r\n            timeout={6000}\r\n        />)\r\n};\r\n\r\nexport default Load;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Modal from './Modal/Modal'\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Load from './Loader/Loader';\nimport '../stylesheets/normalize.css';\nimport '../stylesheets/main.css';\nimport { ToastContainer } from \"react-toastify\";\n\nclass App extends Component {\n  state = {\n    photos: [],\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    loading: false,\n    key: '19150755-18ebc4fb910ab3d1add5e1d5a',\n    url: 'https://pixabay.com/api/',\n    error: null,\n    status: \"idle\",\n  };\n  \n  componentDidMount() {\n    this.setState({ loading: true });\n    axios\n      .get(`${this.state.url}?page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(response => this.setState({ photos: response.data.hits }))\n      .catch(error=> this.setState({error}))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextSearch = this.state.searchQuery;\n    const prevSearch = prevState.searchQuery;\n    const nextPage = this.state.page;\n    const prevPage = prevState.page;\n\n    if (nextSearch !== prevSearch) {\n      this.setState({ loading: true, photos: []});\n      \n      axios\n          .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n          .then(response => this.setState({ photos: response.data.hits }\n          ))\n          .catch(error=> this.setState({error}))\n          .finally(() => this.setState({ loading: false }));\n      \n    }\n    if (nextPage !== prevPage) {\n      this.setState({ loading: true });\n\n        axios\n          .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n          .then(response => this.setState({ photos: [...prevState.photos, ...response.data.hits] }))\n          .catch(error=> this.setState({error}))\n          .finally(() => { this.setState({ loading: false }); window.scrollTo({ top: document.documentElement.scrollHeight, behavior: 'smooth', }) });\n    }\n  };\n\n  toggleModal = (largeImageURL) => {\n    this.setState(({ showModal }) => ({showModal: !showModal}));\n    this.setState({ largeImage: largeImageURL });\n  };\n\n  onButtonClick = e => {\n    e.preventDefault();\n    this.setState(\n      { page: this.state.page + 1 }\n    );\n  };\n\n  handleSearchSubmit = searchQuery => {\n    const normalizedSearchQuery = searchQuery.toLowerCase().trim();\n    this.setState({ searchQuery: normalizedSearchQuery });\n   };\n \n  render() {\n    const { photos, showModal, largeImage, tags, error } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSearchSubmit}/> \n        {error && <h1>Error, try again later</h1>}\n       \n        {photos.length > 0 ?\n          <ImageGallery\n              photos={photos}\n              onClick={this.toggleModal}>\n          </ImageGallery> : null}\n        \n        {showModal &&\n          <Modal onClose={this.toggleModal}>\n          <img src={largeImage} alt={tags}/>\n          </Modal>}\n\n        {this.state.loading &&\n          <Load \n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={45}\n          width={45}\n          timeout={6000}\n          />}\n      \n        {photos.length >= 11 ?\n          <Button\n            aria-label='Load more'\n            onClick={this.onButtonClick}>\n          </Button> : null}\n\n        <ToastContainer autoClose={2000}/>\n      </>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__CtEfK\",\"searchForm\":\"Searchbar_searchForm__2mrG_\",\"button\":\"Searchbar_button__3EobS\",\"buttonLabel\":\"Searchbar_buttonLabel__6imVt\",\"input\":\"Searchbar_input__3kspo\"};"],"sourceRoot":""}