{"version":3,"sources":["components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/App.js","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","overlay","onClick","content","children","Component","Searchbar","value","onChange","searchbar","type","name","searchForm","placeholder","ImageGallery","imageGallery","defaultProps","ImageGalleryItem","photos","map","largeImageURL","webformatURL","tags","id","item","image","src","data-source","alt","original","preview","description","Button","allyProps","button","App","state","searchQuery","page","showModal","key","toggleModal","setState","largeImage","onButtonClick","preventDefault","console","log","changeSearch","getSearchedResult","normalizedSearchQuery","toLowerCase","trim","filter","photo","includes","axios","get","then","response","data","hits","searchedResult","length","aria-label","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.37e98452.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__4IY3T\",\"content\":\"Modal_content__c3Np8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__CtEfK\",\"searchForm\":\"Searchbar_searchForm__2mrG_\",\"button\":\"Searchbar_button__3EobS\",\"buttonLabel\":\"Searchbar_buttonLabel__6imVt\",\"input\":\"Searchbar_input__3kspo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3osXE\",\"image\":\"ImageGalleryItem_image__3BCEo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1nR06\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__pfvfQ\"};","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n      return createPortal(\r\n        <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n          <div className={styles.content}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n   );\r\n  }\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ value, onChange }) => (\r\n    <>\r\n         <label\r\n            className={styles.searchbar}>\r\n          <input\r\n                type='text'\r\n                value={value}\r\n                onChange={onChange}\r\n                name='searchbar'\r\n                className={styles.searchForm}\r\n                placeholder='Search'\r\n            />\r\n        </label>\r\n    </>\r\n);\r\n\r\nexport default Searchbar;","\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ children }) {\r\n    return (\r\n      <ul className={styles.imageGallery}>\r\n        {children}\r\n      </ul>\r\n    )\r\n}\r\n        \r\nImageGallery.defaultProps = {\r\n  children: \"\",\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ photos, onClick }) {\r\n    return (\r\n        photos.map(({ largeImageURL, webformatURL, tags, id }) => (\r\n     <li className={styles.item} key={id} onClick={() => onClick(largeImageURL)}>\r\n            <img className={styles.image} src={webformatURL} data-source={largeImageURL} alt={tags} />\r\n    </li>\r\n  )))\r\n}\r\n\r\nImageGalleryItem.defaultProps = {\r\n  original: '',\r\n  preview: '',\r\n  description: ''\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  original: PropTypes.string,\r\n  preview: PropTypes.string,\r\n  description : PropTypes.string\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ children, onClick, ...allyProps }) => (\r\n    <button type=\"button\" className={styles.button} onClick={onClick} {...allyProps}>\r\n    Load more{children}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  'aria-label': PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Modal from './Modal/Modal'\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport Button from './Button/Button';\nimport Loader from \"react-loader-spinner\";\nimport '../stylesheets/normalize.css';\nimport '../stylesheets/main.css';\n\nclass App extends Component {\n  state = {\n    photos: [],\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    key: '19150755-18ebc4fb910ab3d1add5e1d5a',\n  };\n  componentDidMount() {\n        axios\n            .get(`https://pixabay.com/api/?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n            .then(response => this.setState({ photos: response.data.hits }))\n  }\n/*\n  componentDidMount() {\n    // console.log('App componentDidMount');\n\n    const photos = localStorage.getItem('photos');\n    const parsedPhotos = JSON.parse(photos);\n\n    if (parsedPhotos) {\n      this.setState({ photos: parsedPhotos });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log('App componentDidUpdate');\n\n    const nextPhotos = this.state.photos;\n    const prevPhotos = prevState.photos;\n\n    if (nextPhotos !== prevPhotos) {\n      console.log('Обновилось поле photos, записываю photos в хранилище');\n      localStorage.setItem('photos', JSON.stringify(nextPhotos));\n    }\n\n    if (nextPhotos.length > prevPhotos.length && prevPhotos.length !== 0) {\n      this.toggleModal();\n    }\n  }\n\n*/\n  toggleModal = (largeImageURL) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  \n    this.setState({ largeImage: largeImageURL });\n  };\n\n  onButtonClick = e => {\n     e.preventDefault();\n    \n    this.setState(\n      {page: this.state.page + 1 } \n    );\n    console.log('Click', this.state.page);\n   /*axios\n            .get(`https://pixabay.com/api/?q=${this.state.searchQuery}&page=${this.state.page}&key=19150755-18ebc4fb910ab3d1add5e1d5a&image_type=photo&orientation=horizontal&per_page=12`)\n     .then(response => this.setState(prevState => { return { photos: [...prevState.photos, response.data.hits] } }))\n   \n    window.scrollTo({\n  top: document.documentElement.scrollHeight,\n  behavior: 'smooth',\n});*/\n  }\n\n  changeSearch = e => {\n    const { searchQuery } = this.state;\n    this.setState({  searchQuery : e.currentTarget.value });\n    console.log(searchQuery);\n  };\n\n  getSearchedResult = () => {\n    const { photos, searchQuery } = this.state;\n    const normalizedSearchQuery = searchQuery.toLowerCase().trim();\n    return photos.filter(photo =>\n      photo.tags.toLowerCase().includes(normalizedSearchQuery)\n    );\n  }\n  render() {\n    const { searchQuery, photos, showModal, largeImage, tags } = this.state;\n    const searchedResult = this.getSearchedResult();\n    console.log(searchedResult);\n    \n    return (\n      <>\n        <Searchbar value={searchQuery} onChange={this.changeSearch} />\n        \n        {photos.length > 0 ? <ImageGallery><ImageGalleryItem photos={searchedResult} onClick={this.toggleModal} /></ImageGallery> : null}\n        \n        {showModal && <Modal onClose={this.toggleModal} >\n          <img src={largeImage} alt={tags} />\n          <button type='button' onClick={this.toggleModal}>x</button>\n        </Modal>}\n                \n        {searchedResult.length > 11 ? <Button aria-label='Load more' onClick={this.onButtonClick}>\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#FFFFFF\"\n            height={20}\n            width={20}\n            timeout={3000} \n          />\n        </Button> : null}\n      </>\n    );\n  }\n}\n\nexport default App;\n\n/**{photos.page > 1 ? <ImageGallery><ImageGalleryItem photos={searchedResult} onClick={this.toggleModal} /></ImageGallery> : null} */","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}